===============================================
如何在发票上登记信用卡付款？
===============================================

有两种方式处理通过信用卡收到的付款。Odoo 支持这两种方式，因此您可以选择最适合您的习惯。

1. **未存入资金账户**（多用于欧洲国家）：一旦您收到信用卡支付授权，您可以在发票上记录信用卡付款（使用信用卡日记账并记入未存入资金账户）。然后，当信用卡付款到达您的银行账户时，将资金从未存入资金账户转移到您的银行账户。

2. **单次日记账记录**（多用于美国）：一旦您收到信用卡付款，您可以直接记录付款到您的银行账户，而无需经过未存入资金账户。当您处理银行对账单时，您可以直接将银行进账与信用卡付款进行匹配，无需创建专门的日记账记录。

我们推荐第一种方式，因为它更加准确（您的银行账户余额会更准确，考虑到尚未兑现的信用卡）。这两种方式所需的工作量相同。

如果您使用电子商务和自动支付网关，您只需处理银行对账部分，因为已支付的发票会自动记录在正确的日记账中。这时您将使用第二种方式。

尽管第一种方式更为清晰，Odoo 也支持第二种方式，因为一些会计人员习惯于这种方式（如 *QuickBooks* 和 *Peachtree* 用户）。

选项 1：未存入资金账户
===========================

配置
-------------

在会计模块中，进入 :menuselection:`Configuration --> Journals --> Create`

创建一个名为“信用卡付款”的日记账，填写以下信息：

-  **日记账名称**：Credit card
-  **默认借方账户**：Credit cards
-  **默认贷方账户**：Credit cards

账户类型应为“信用卡”。完成后，不要忘记将“信用卡”账户设置为“允许对账”。

.. image:: ./media/credit01.png
  :align: center

从信用卡付款到银行对账单
--------------------------------------------

处理信用卡的第一种方式是创建一个信用卡日记账。因此，信用卡成为一种独立的付款方式，您将记录两次交易。

一旦收到客户的信用卡付款，进入相关发票并点击登记付款。填写有关付款的信息：

-  **付款方式**：Credit card

-  **备注**：填写发票编号

.. image:: ./media/credit02.png
  :align: center

此操作将生成以下日记账记录：


+----------------------+-------------------+----------+----------+
| Account              | Statement Match   | Debit    | Credit   |
+======================+===================+==========+==========+
| Account Receivable   |                   |          | 100.00   |
+----------------------+-------------------+----------+----------+
| Credit Cards         |                   | 100.00   |          |
+----------------------+-------------------+----------+----------+

记录信用卡付款后，发票将被标记为已支付。

然后，一旦收到银行对账单，您将匹配此对账单与“信用卡”账户中的信用卡付款。

+----------------+-------------------+----------+----------+
| 账户           | 对账匹配          | 借方     | 贷方     |
+================+===================+==========+==========+
| 信用卡         | X                 |          | 100.00   |
+----------------+-------------------+----------+----------+
| 银行           |                   | 100.00   |          |
+----------------+-------------------+----------+----------+

如果您使用这种方式管理信用卡付款，您可以在“信用卡”账户中查看尚未兑现的信用卡付款列表（例如，通过总分类账访问）。

.. note::

    两种方式在最终的会计数据上是相同的。但如果您有尚未兑现的信用卡付款，这种方式更为清晰，因为这些信用卡付款尚未在您的银行账户上报告。

选项 2：单次日记账记录
================================

配置
-------------

如果您计划使用这种方式管理信用卡付款，无需进行任何配置。

从信用卡付款到银行对账单
--------------------------------------------

一旦收到客户的信用卡付款，进入相关发票并点击登记付款。填写有关付款的信息：

-  **付款方式**：将用于存款的银行

-  **备注**：填写信用卡交易号

.. image:: ./media/credit03.png
  :align: center

一旦记录信用卡付款，发票将被标记为已支付。当您收到银行对账单时，您将进行对账，将此付款与对账单行关联。

使用这种方式，您将在账簿中得到以下日记账记录：

+----------------------+-------------------+----------+----------+
| Account              | Statement Match   | Debit    | Credit   |
+======================+===================+==========+==========+
| Account Receivable   | X                 |          | 100.00   |
+----------------------+-------------------+----------+----------+
| Bank                 |                   | 100.00   |          |
+----------------------+-------------------+----------+----------+

.. tip::

    您也可以直接记录付款，而无需进入客户发票，使用顶部菜单 :menuselection:`Sales --> Payments`。如果您有大量信用卡需要批量记录，这种方法可能更方便，但之后您需要进行对账（将付款与发票匹配）。

如果您使用这种方式管理收到的信用卡付款，您可以使用“银行对账报告”来验证哪些信用卡已被银行收到或支付（此报告可在相关银行账户的会计仪表盘中通过“更多”选项获得）。

.. image:: ./media/credit04.png
  :align: center

.. seealso::
   
   * :doc:`recording`
   * :doc:`../../bank/feeds/paypal`
   * :doc:`check`
   * :doc:`followup`
