===================================================================
如何管理 B2B（不含税）和 B2C（含税）的价格？
===================================================================

在与消费者打交道时，价格通常是包含税费的（例如，大多数电子商务平台上）。但在 B2B 环境中，公司通常会谈判不含税的价格。

Odoo 能够轻松管理这两种情况，只要您在产品上注册的价格是含税或不含税，但不能同时存在。如果您只管理含税（或不含税）的所有价格，仍然可以轻松地进行销售订单，价格可以是含税（或不含税）：这很简单。

本手册仅针对需要为同一产品设置两个价格（含税和不含税）的特定情况。复杂的原因在于，含税价格和不含税价格之间没有对称关系，如以下比利时税率为 21% 的用例所示：

- 您的电子商务产品为 **10€（含税）**

- 这相当于 **8.26€（不含税）** 和 **1.74€ 的税**

但是在同样的情况下，如果您在产品表单上注册的是不含税价格（8.26€），则含税价格为 9.99€，因为：

- **8.26€ \* 1.21 = 9.99€**

因此，根据您在产品表单上注册价格的方式，含税价格和不含税价格的结果会有所不同：

- 不含税：**8.26€ 和 10.00€**

- 含税：**8.26€ 和 9.99€**

.. note::
  如果您以含税 10€ 的价格购买 100 件商品，情况会更加复杂。您将得到：**1000€（含税）= 826.45€（价格）+ 173.55€（税）** 这与单价 8.26€（不含税）的价格非常不同。

本手册解释了如何在同一家公司内处理产品表单上含税和不含税两种价格的特定情况。

.. note::
  从财务角度来看，您以 10€ 而不是 9.99€（21% 税率）的价格销售产品没有更多的收入，因为您的收入在 9.99€ 时完全相同，只是税多 0.01€。因此，如果您在比利时经营电子商务，请为您的客户设置 9.99€ 而不是 10€。请注意，这不适用于 20€ 或 30€，或其他税率，或数量 >1 的情况。这样做也会让您更方便，因为您可以管理不含税的所有内容，这样出错的可能性较小，销售人员也更容易操作。

配置
=============

简介
------------

避免这种复杂性的最佳方法是选择一种管理价格的方式并坚持下去：不含税价格或含税价格。定义哪一种是存储在产品表单上的默认值（基于产品的默认税收），然后让 Odoo 根据价格表和财务位置自动计算另一种价格。相应地与客户谈判合同。这种方式开箱即用，无需进行特定配置。

如果您不能这样做，并且确实为某些客户协商了不含税的价格，而对其他客户则协商含税的价格，您必须：

1. 始终在产品表单上存储默认的不含税价格，并应用税（在产品表单上包含价格的税）

2. 为特定客户创建一个含税的价格表

3. 创建一个将不含税转换为含税的财务位置

4. 将这些价格表和财务位置分配给希望享受此价格表和财务位置的客户

为了本手册的目的，我们将使用上述用例：

- 您的产品默认销售价格为 8.26€（不含税）

- 但我们希望在商店或电子商务网站上以 10€（含税）销售

设置产品
---------------------

您的公司必须配置为默认不含税。这通常是默认配置，但您可以从会计应用的菜单 :menuselection:`Configuration --> Settings` 检查您的 **Default Sale Tax**。

.. image:: media/price_B2C_B2B01.png
  :align: center

完成后，您可以创建一个 **B2C** 价格表。您可以从销售应用的菜单 :menuselection:`Configuration --> Settings` 激活每个客户的价格表功能。选择选项 **different prices per customer segment**。

完成后，从菜单 :menuselection:`Configuration --> Pricelists` 创建一个 B2C 价格表。最好将默认价格表重命名为 B2B 以避免混淆。

然后，从销售应用的菜单 :menuselection:`Sales --> Products` 创建一个价格为 8.26€、税率为 21%（定义为不含税）的产品，并为 B2C 客户设置该产品的价格为 10€：

.. image:: media/price_B2C_B2B02.png
  :align: center

设置 B2C 财务位置
-------------------------------

从会计应用中，通过菜单 :menuselection:`Configuration --> Fiscal Positions` 创建一个 B2C 财务位置。此财务位置应将 21% VAT（不含税）映射为 21% VAT（含税）

.. image:: media/price_B2C_B2B03.png
  :align: center

创建报价单测试
============================

从销售应用中，使用 :menuselection:`Sales --> Quotations` 菜单创建一个报价单。您应该得到以下结果：8.26€ + 1.73€ = 9.99€。

.. image:: media/price_B2C_B2B04.png
  :align: center

然后，创建一个报价单，但在添加产品之前**将价格表更改为 B2C 并将财务位置更改为 B2C**。您应该得到预期结果，即客户总价格为 10€：8.26€ + 1.74€ = 10.00€。

.. image:: media/price_B2C_B2B05.png
  :align: center

这是您店铺客户的预期行为。

避免每次更改销售订单
===============================

如果您与客户谈判合同，无论是谈判含税价格还是不含税价格，您都可以在客户表单上设置价格表和财务位置，以便在每次销售此客户时自动应用。

价格表位于客户表单的 **Sales & Purchases** 标签中，财务位置位于会计标签中。

请注意，这很容易出错：如果您设置了含税价格的财务位置，但使用的价格表不包含税，可能会为您计算错误的价格。这就是为什么我们通常建议公司只使用一个价格参考进行操作的原因。
