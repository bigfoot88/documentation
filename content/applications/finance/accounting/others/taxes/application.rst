==========================================================
如何根据客户身份或所在地调整税收
==========================================================

大多数情况下，销售税率取决于客户的身份或所在地。为了映射税收，Odoo 引入了所谓的 *税务位置*。

创建税收映射
==================

税务位置是一组规则，用于将默认税（在产品表单中定义）映射为其他税。在下图中，国外客户的税率从默认的 15% 变为 0%，无论是销售还是采购。

.. image:: media/application02.png
   :align: center

主要的税务位置会根据您的所在地自动创建。但在一些特定情况下，您可能需要创建特定用途的税务位置。要定义税务位置，请前往 :menuselection:`Invoicing/Accounting --> Configuration --> Fiscal Positions`。

.. note::
    如果您使用 Odoo Accounting，您还可以根据税务位置映射收入/支出账户。例如，在某些国家，来自销售的收入不会与来自国外销售的收入记入相同的账户。

根据客户身份调整税收
===================================

如果某客户符合特定的税收规则，您需要应用税收映射。为此，创建一个税务位置并将其分配给您的客户。

.. image:: media/application01.png
   :align: center

Odoo 将使用这个特定的税务位置来处理客户的所有订单/发票。

.. note:: 
    如果您在销售订单或发票中手动设置税务位置，它只会应用于该文件，而不会应用于同一客户的未来订单/发票。

根据客户地址（基于目的地）调整税收
========================================================

根据您的所在地，销售税可能是基于原产地的，也可能是基于目的地的。大多数州或国家要求您按照目的地（即买家的地址）的税率收取税款，而其他一些则要求按照原产地（即您的办公室或仓库）的税率收取税款。

如果您适用基于目的地的规则，请为每个税收映射创建一个税务位置。

* 勾选 *自动检测* 选项。
* 选择一个国家组、国家、州或城市以触发税收映射。

.. image:: media/application04.png
   :align: center

这样，如果客户未设置税务位置，Odoo 会在创建订单时根据送货地址选择匹配的税务位置。

.. note::
    对于电子商务订单，访客的购物车税收会在访客登录或填写送货地址后自动更新并应用新税收。

特定用例
==================

如果在某些税务位置，您想删除某个税而不是替换为另一个税，只需将 *要应用的税* 字段留空。

.. image:: media/application03.png
   :align: center

如果在某些税务位置，您想用两个其他税替换一个税，只需创建两行具有相同 *产品税* 的记录。

.. note::
  税务位置不适用于资产和递延收入。

.. seealso::

  * :doc:`create`
  * :doc:`taxcloud`
  * :doc:`tax_included`
  * :doc:`B2B_B2C`
