===================================================================
如何在三步中处理发货订单（拣货 + 打包 + 发货）
===================================================================

概述
========

当订单进入运输部门进行最终配送时，Odoo 默认设置为**一步**操作：一旦所有货物准备就绪，可以在一个配送订单中批量发货。然而，这个流程可能并不符合实际情况，您的公司可能需要在发货前进行更多步骤。

通过**三步**流程（**拣货 + 打包 + 发货**），物品会被转移到一个打包区域，在那里按目的地区域进行组装，然后发送到外部卡车，最终配送给客户。

为了在 Odoo 中完成**拣货 + 打包 + 发货**流程，需要进行一些配置步骤。这些步骤会创建一些额外的地点，默认情况下称为**输出**和**打包区**。因此，如果您的仓库代码是 ``WH``，这项配置将创建一个名为 ``WH/Output`` 的地点和另一个名为 ``WH/Packing Zone`` 的地点。

货物将从 **WH/Stock** 移动到 **WH/Packing Zone**（第一步）。然后从 **WH/Packing Zone** 移动到 **WH/Output**。最后将从 **WH/Output** 配送到其**最终目的地**。

.. note::
    查看 :doc:`inventory_flow` 以确定这种库存流是否适合您的需求。

配置
=============

安装库存模块
----------------------------

从**应用**菜单中，搜索并安装**库存**模块。

.. image:: media/three_steps07.png
   :align: center

您还需要安装**销售**模块，以便能够开具销售订单。

允许管理路线
---------------------

Odoo 通过**路线**配置配送订单的移动。路线提供了一种将不同操作连接在一起的机制。在这种情况下，我们将拣货步骤与发货步骤连接起来。

要允许管理路线，前往 :menuselection:`配置 --> 设置`

在 :menuselection:`地点和仓库 --> 路线` 下，激活单选按钮**使用规则进行产品的高级路由**。确保选项**管理每个仓库的多个地点**也被激活。

.. image:: media/three_steps05.png
   :align: center

配置仓库进行拣货 + 打包 + 发货
-----------------------------------------------

前往 :menuselection:`配置 --> 仓库` 并编辑将要使用的仓库。

对于出库发货，将选项设置为**将包裹放入专用地点，将它们带到输出地点进行发货（拣货 + 打包 + 发货）**。

.. image:: media/three_steps01.png
   :align: center

创建销售订单
===================

在**销售**模块中，创建一个需要交付的产品销售订单。

注意，我们现在在销售订单上方的**状态按钮**中看到与此销售订单关联的``3``个转移。

.. image:: media/three_steps06.png
   :align: center

如果点击按钮，您现在应该会看到三个不同的拣货：

1.  第一个参考号为 **PICK**，表示拣货过程，

2.  第二个参考号为 **PACK**，表示打包过程，

3.  最后一个参考号为 **OUT**，表示发货过程。

.. image:: media/three_steps04.png
   :align: center

处理配送
==================

如何处理拣货步骤？
--------------------------------

确保您有足够的库存产品，然后前往**库存**并点击 **拣货** 看板卡下的 **等待** 链接。

.. image:: media/three_steps08.png
   :align: center

点击您要处理的拣货单。

点击 **预留** 以预留产品（如果它们可用）。

点击 **验证** 以完成从 **WH/Stock** 到 **WH/Packing Zone** 的移动。

这完成了拣货步骤，**WH/PICK** 现在应在页面顶部的状态栏中显示 **已完成**。产品已从 **WH/Stock** 移动到 **WH/Packing Zone** 位置，使产品可以进行下一步（打包）。

如何处理打包步骤？
--------------------------------

前往**库存**并点击**打包**看板卡下的 **# 转移** 链接。

.. image:: media/three_steps03.png
   :align: center

点击您要处理的拣货单。

点击 **验证** 以完成从 **WH/Packing Zone** 到 **WH/Output** 的移动。

这完成了打包步骤，**WH/PACK** 现在应在页面顶部的状态栏中显示 **已完成**。产品已从 **WH/Packing Zone** 移动到 **WH/Output** 位置，使产品可以进行下一步（发货）。

如何处理发货步骤？
---------------------------------

前往**库存**并点击**配送订单**看板卡下的 **# 待办** 链接。

.. image:: media/three_steps02.png
   :align: center

点击您要处理的拣货单。

点击 **验证** 以完成从 **WH/Output** 到 **客户** 的移动（点击 **应用** 以根据**待办**列中列出的数量分配数量）。

这完成了发货步骤，**WH/OUT** 现在应在页面顶部的状态栏中显示 **已完成**。产品已运送给客户。

.. todo::
    链接到这些部分（当可用时）
    -  过程概述：从销售订单到配送订单

    -  过程概述：从采购订单到接收
