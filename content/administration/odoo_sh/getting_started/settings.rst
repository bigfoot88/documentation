==================================
设置
==================================

概述
========

这些设置允许您管理项目的配置。

.. image:: ./media/interface-settings.png
   :align: center

项目名称
============

您的项目名称。

.. image:: ./media/interface-settings-projectname.png
   :align: center

这定义了用于访问生产数据库的地址。

暂存和开发版本的地址是从这个名称派生并自动分配的。然而，当您更改项目名称时，只有未来的构建才会使用新名称。

.. _odoosh-gettingstarted-settings-collaborators:

协作者
=============

管理可以访问您项目的 Github 用户。

.. image:: ./media/interface-settings-collaborators.png
   :align: center

用户有两个级别：

* 管理员：可以访问 Odoo.sh 的所有功能。
* 用户：不能访问项目设置，也不能访问生产和暂存数据库。

用户组适用于可以修改代码但不允许访问生产数据的开发人员。
此组用户不能使用 *一键连接* 功能连接到生产和暂存数据库，但他们当然可以使用他们的常规帐户和凭证来访问这些数据库。

此外，他们不能使用 webshell，也不能访问服务器日志。

+---------------------+-----------------+-----------+-----------+
|                     |                 | 用户      | 管理员     |
+=====================+=================+===========+===========+
|开发                 | 历史            |     X     |     X     |
+---------------------+-----------------+-----------+-----------+
|                     | 一键连接         |     X     |     X     |
+---------------------+-----------------+-----------+-----------+
|                     | 日志            |     X     |     X     |
+---------------------+-----------------+-----------+-----------+
|                     | Shell/SSH       |     X     |     X     |
+---------------------+-----------------+-----------+-----------+
|                     | 邮件            |     X     |     X     |
+---------------------+-----------------+-----------+-----------+
|                     | 设置            |     X     |     X     |
+---------------------+-----------------+-----------+-----------+
|生产 & 暂存           | 历史            |     X     |     X     |
+---------------------+-----------------+-----------+-----------+
|                     | 一键连接         |           |     X     |
+---------------------+-----------------+-----------+-----------+
|                     | 日志            |           |     X     |
+---------------------+-----------------+-----------+-----------+
|                     | Shell/SSH       |           |     X     |
+---------------------+-----------------+-----------+-----------+
|                     | 邮件            |           |     X     |
+---------------------+-----------------+-----------+-----------+
|                     | 监控            |           |     X     |
+---------------------+-----------------+-----------+-----------+
|                     | 备份            |           |     X     |
+---------------------+-----------------+-----------+-----------+
|                     | 设置            |     X     |     X     |
+---------------------+-----------------+-----------+-----------+
|状态                 |                 |     X     |     X     |
+---------------------+-----------------+-----------+-----------+
|设置                 |                 |           |     X     |
+---------------------+-----------------+-----------+-----------+

公共访问
=============

允许公共访问您的开发版本。

.. image:: ./media/interface-settings-public.png
   :align: center

如果激活，此选项将公开构建页面，允许访客连接到您的开发版本。

此外，访客可以访问开发版本的日志、shell 和邮件。

生产和暂存版本除外，访客只能看到它们的状态。

.. _odoosh-gettingstarted-settings-modules-installation:


自定义域
==============

要配置其他域，请参考相应分支的 :ref:`设置标签 <odoosh-gettingstarted-branches-tabs-settings>`。

.. _odoosh-gettingstarted-settings-submodules:

子模块
==========

配置您在分支中使用的私有库的部署密钥，以便 Odoo.sh 下载它们。

.. Warning::
  这些设置仅适用于 **私有库**。
  如果您想了解如何设置子模块，请参阅本文档的 :ref:`子模块 <odoosh-advanced-submodules>` 章节中的说明。

.. image:: ./media/interface-settings-submodules.png
   :align: center

当仓库是私有的时，无法公开下载其分支和修订版。
因此，您需要为 Odoo.sh 配置一个部署密钥，以便远程 Git 服务器允许我们的平台下载该私有库的修订版。

要为私有库配置部署密钥，请按以下步骤操作：

* 在输入框中粘贴您的私有子库的 SSH URL 并点击 *添加*，

  * 例如 *git@github.com:USERNAME/REPOSITORY.git*
  * 它可以是另一个 Git 服务器，如 Bitbucket、Gitlab 或您自己的自托管服务器

* 复制公钥，

  * 它应类似于 *ssh-rsa some...random...characters...here...==*

* 在私有子库的设置中，将公钥添加到部署密钥中。

  * Github.com: :menuselection:`Settings --> Deploy keys --> Add deploy key`
  * Bitbucket.com: :menuselection:`Settings --> Access keys --> Add key`
  * Gitlab.com: :menuselection:`Settings --> Repository --> Deploy Keys`
  * 自托管: 将密钥附加到 git 用户 .ssh 目录中的 authorized_keys 文件中

存储大小
============

此部分显示您的项目使用的存储大小。

.. image:: ./media/interface-settings-storage.png
   :align: center

存储大小的计算方式如下：

* PostgreSQL 数据库的大小

* 容器中可用磁盘文件的大小：数据库文件存储、会话存储目录等

.. Warning::
  如果您想分析磁盘使用情况，可以在 Web Shell 中运行工具 `ncdu <https://dev.yorhel.nl/ncdu/man>`_。

如果您的生产数据库大小超过了订阅中规定的大小，
它将自动与订阅同步。

数据库工作者
================

可以在此配置其他数据库工作者。更多的工作者可以增加您的生产数据库能够处理的负载。如果您添加更多，它将自动与您的订阅同步。

.. image:: ./media/interface-settings-workers.png
   :align: center

.. Warning::
  添加更多工作者并不能神奇地解决所有性能问题。它只是允许服务器同时处理更多连接。如果某些操作异常缓慢，问题很可能出在代码上，如果不是由于您自己的自定义，您可以在 `这里 <https://www.odoo.com/help>`_ 提交工单。

暂存分支
================

额外的暂存分支允许您同时开发和测试更多功能。如果您添加更多，它将自动与您的订阅同步。

.. image:: ./media/interface-settings-staging-branches.png
   :align: center

激活
==========

显示项目激活的状态。如有需要，您可以更改项目的激活码。

.. image:: ./media/interface-settings-activation.png
   :align: center
